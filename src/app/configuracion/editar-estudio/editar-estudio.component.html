<!------------------------------------------------------------------
|NOMBRE: editar-estudio.                                           | 
|------------------------------------------------------------------|
|DESCRIPCIÓN: Página para editar un estudio.                       |
|------------------------------------------------------------------|
|AUTOR: Ricardo Luna.                                              |
|------------------------------------------------------------------|
|FECHA: 29/04/2020.                                                |
|------------------------------------------------------------------|
|                       HISTORIAL DE CAMBIOS                       |
|------------------------------------------------------------------|
| #   |   FECHA  |     AUTOR      |           DESCRIPCIÓN          |
-------------------------------------------------------------------->

<div class="container">
  <div class="row">
    <div class="col-lg-12 display-4 text-center">
      <button type="button" class="btn btn-azul btn-lg" placement="bottom" ngbTooltip="Regresar al listado de estudios."
        (click)="regresar()">
        <i class="material-icons">arrow_back</i>
      </button>
      Edición de estudios
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-lg-2">
    </div>
    <div class="col-lg-8">
      <div class="row">
        <div class="input-group input-group-lg col-lg-12">
          <div class="input-group-prepend">
            <span class="input-group-text">Clínica*</span>
          </div>
          <select class="form-control" [formControl]="clinicaControl" #clinicaHTML
            ngbTooltip="Seleccionar una clínica.">
            <option *ngFor="let clinica of clinicas" value={{clinica.id}}>
              {{clinica.nombre}}
            </option>
          </select>
        </div>
        <div *ngIf="pulsarCrear && !clinicaControl.valid" class="col-lg-12 alert-danger text-center campo-invalido">La
          clínica es Requerida.</div>
      </div>
      <div class="row">
        <div class="input-group input-group-lg col-lg-12">
          <div class="input-group-prepend">
            <span class="input-group-text">Nombre*</span>
          </div>
          <input [ngClass]="{'input-borde-rojo':pulsarCrear && nombreControl.invalid}" type="text" class="form-control"
            [formControl]="nombreControl" #nombreHTML ngbTooltip="Nombre del estudio.">
        </div>
        <div *ngIf="pulsarCrear && !nombreControl.valid" class="col-lg-12 alert-danger text-center campo-invalido">El
          Nombre es Requerido.</div>
      </div>
      <div class="row">
        <div class="input-group input-group-lg col-lg-12">
          <div class="input-group-prepend">
            <span class="input-group-text">Descripción</span>
          </div>
          <input type="text" class="form-control" [formControl]="descripcionControl"
            ngbTooltip="Descripción del estudio.">
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12 table-responsive">
          <table class="table table-striped table-bordered">
            <tr>
              <th class="text-center">Precio bruto*</th>
              <th class="text-center">Precio neto (IVA {{iva}}%)</th>
            </tr>
            <tr>
              <td>
                <div class="input-group input-group-lg col-lg-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text">$</span>
                  </div>
                  <input type="text" placeholder="Precio bruto" [formControl]="precioBrutoControl" #precioBrutoHTML
                    class="form-control text-center" ngbTooltip="Precio bruto (sin IVA)." value="">
                </div>
                <div *ngIf="pulsarCrear && !precioBrutoControl.valid"
                  class="col-lg-12 alert-danger text-center campo-invalido">
                  El precio es requerido.</div>
              </td>
              <td>
                <div class="input-group input-group-lg col-lg-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text">$</span>
                  </div>
                  <input type="text" placeholder="Precio neto"  [formControl]="precioNetoControl" #precioNetoHTML
                    class="form-control text-center" ngbTooltip="Precio neto (incluye IVA)." value="">
                </div>
                <div *ngIf="pulsarCrear && !precioBrutoControl.valid"
                  class="col-lg-12 alert-danger text-center campo-invalido">
                  El precio es requerido.</div>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <br>
      <div class="row" *ngIf="nombreControl.valid && clinicaControl.valid && precioBrutoControl.valid">
        <div class="input-group input-group-lg col-lg-12">
          <button class="btn btn-azul form-control" type="button" ngbTooltip="Modificar el estudio."
            (click)="editarEstudio()">Modificar estudio</button>
        </div>
      </div>
    </div>
  </div>
</div>